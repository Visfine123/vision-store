<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Vision Store</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <body>

        <h1 style="text-align:center;margin-bottom:20px;">Vision Online Store</h1>

        <!-- PRODUCTS -->
        <div class="products" id="productList">

            <div class="product">
                <img src="headphones.jpg">
                <h3>Wireless Headphones</h3>
                <p>$25</p>
                <button onclick="addToCart('Wireless Headphones',25)">Add to Cart</button>
            </div>

            <div class="product">
                <img src="smart watch.jpg">
                <h3>Smart Watch</h3>
                <p>$45</p>
                <button onclick="addToCart('Smart Watch',45)">Add to Cart</button>
            </div>

            <div class="product">
                <img src="bluetooth.jpg">
                <h3>Bluetooth Speaker</h3>
                <p>$30</p>
                <button onclick="addToCart('Smart Watch',45)">Add to Cart</button>
            </div>

        </div>

        <!-- CART -->
        <div class="cart">
            <h2>Your Cart</h2>
            <div id="cartItems"></div>
            <h3>Total: $<span id="total">0</span></h3>
        </div>

        <!-- LOGIN -->
        <div class="login">
            <h2>Customer Login</h2>
            <input id="email" placeholder="Email">
            <input id="password" type="password" placeholder="Password">
            <button>Login</button>
        </div>

        <!-- PAYPAL -->
        <div class="cart">
            <h2>Pay Securely</h2>
            <div id="paypal-button-container"></div>
        </div>

        <!-- ADMIN -->
        <div class="admin">
            <h2>Admin Upload Product</h2>
            <input id="pname" placeholder="Product Name">
            <input id="pprice" placeholder="Price">
            <input id="pimg" placeholder="Image URL">
            <button>Add Product</button>
        </div>

    </body>


    <script src="script.js"></script>

    <script src="https://www.paypal.com/sdk/js?client-id=sb"></script>
    <script>
        paypal.Buttons({
            createOrder: function (data, actions) {
                let total = document.getElementById("total").innerText.replace("Total: $", "");
                return actions.order.create({ purchase_units: [{ amount: { value: total } }] });
            },
            onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {
                    alert("Payment successful, " + details.payer.name.given_name);
                    localStorage.clear();
                    location.reload();
                });
            }
        }).render('#paypal-button-container');
    </script>

</body>

</html>